<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Announcing 7.0.0-alpha.2 | InversifyJS</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://inversify.github.io/blog/announcing-inversify-7-0-0-alpha-2-prerelease/ /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docusaurus_tag content=default /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docsearch:docusaurus_tag content=default /><meta data-rh=true property=og:title content="Announcing 7.0.0-alpha.2 | InversifyJS"/><meta data-rh=true name=description content="In this version, we are announcing significant performance improvements! Let's see how caches can assist us in accomplishing such a feat!"/><meta data-rh=true property=og:description content="In this version, we are announcing significant performance improvements! Let's see how caches can assist us in accomplishing such a feat!"/><meta data-rh=true property=og:type content=article /><meta data-rh=true property=article:published_time content=2025-01-26T00:00:00.000Z /><meta data-rh=true property=article:author content=https://github.com/notaphplover /><meta data-rh=true property=article:tag content=Releases /><link data-rh=true rel=icon href=/img/favicon.ico /><link data-rh=true rel=canonical href=https://inversify.github.io/blog/announcing-inversify-7-0-0-alpha-2-prerelease/ /><link data-rh=true rel=alternate href=https://inversify.github.io/blog/announcing-inversify-7-0-0-alpha-2-prerelease/ hreflang=en /><link data-rh=true rel=alternate href=https://inversify.github.io/blog/announcing-inversify-7-0-0-alpha-2-prerelease/ hreflang=x-default /><link data-rh=true rel=preconnect href=https://FJYVAGM6L7-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://inversify.github.io/blog/announcing-inversify-7-0-0-alpha-2-prerelease","@type":"BlogPosting","author":{"@type":"Person","description":"InversifyJS maintainer","image":"https://github.com/notaphplover.png","name":"Roberto Pintos López","url":"https://github.com/notaphplover"},"datePublished":"2025-01-26T00:00:00.000Z","description":"In this version, we are announcing significant performance improvements! Let's see how caches can assist us in accomplishing such a feat!","headline":"Announcing 7.0.0-alpha.2","isPartOf":{"@id":"https://inversify.github.io/blog","@type":"Blog","name":"Blog"},"keywords":[],"mainEntityOfPage":"https://inversify.github.io/blog/announcing-inversify-7-0-0-alpha-2-prerelease","name":"Announcing 7.0.0-alpha.2","url":"https://inversify.github.io/blog/announcing-inversify-7-0-0-alpha-2-prerelease"}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="InversifyJS RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="InversifyJS Atom Feed"><link rel=search type=application/opensearchdescription+xml title=InversifyJS href=/opensearch.xml><link rel=stylesheet href=/assets/css/styles.79a97173.css /><script src=/assets/js/runtime~main.35f034f5.js defer></script><script src=/assets/js/main.9cf518fb.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.svg /><link rel=preload as=image href=https://github.com/notaphplover.png /><div role=region aria-label="Skip to main content"><a class=skipToContent_WjuI href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class="theme-announcement-bar announcementBar_YlOl" role=banner><div class=announcementBarPlaceholder_vl_l></div><div class="content_gRko announcementBarContent_uNss">Your feedback is important to us! Please take a moment to read the <a target=_blank rel="noopener noreferrer" href=/blog/planning-inversify-8-0-0/>v8 announcement</a></div><button type=button aria-label=Close class="clean-btn close closeButton_xE56 announcementBarClose_a3Gs"><svg viewBox="0 0 15 15" width=14 height=14><g stroke=currentColor stroke-width=3.1><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"/></g></svg></button></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.svg alt=InversifyJS class="themedComponent_YxIL themedComponent--light_B1qi"/><img src=/img/logo.svg alt=InversifyJS class="themedComponent_YxIL themedComponent--dark_dF9V"/></div><b class="navbar__title text--truncate">InversifyJS</b></a><a class="navbar__item navbar__link" href=/docs/introduction/getting-started/>Tutorial</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/blog/>Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/docs/introduction/getting-started/>7.x</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/next/introduction/getting-started/>Next</a><li><a class=dropdown__link href=/docs/introduction/getting-started/>7.x</a><li><a class=dropdown__link href=/docs/6.x/introduction/getting-started/>6.x</a></ul></div><a href=https://github.com/inversify/monorepo target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_HKH7><use href=#theme-svg-external-link /></svg></a><div class="toggle_fFNN colorModeToggle_jIG8"><button class="clean-btn toggleButton_oRE_ toggleButtonDisabled_jRyK" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_FqRj lightToggleIcon_pBoK"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_FqRj darkToggleIcon_ZeEn"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_FqRj systemToggleIcon_tT1K"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_AvtH><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_iD9O"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_KmmU thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle__u_Q margin-bottom--md">Recent posts</div><div role=group><h3 class=yearGroupHeading_gAjB>2025</h3><ul class="sidebarItemList_B3ST clean-list"><li class=sidebarItem_JuX4><a class=sidebarItemLink_uK7o href=/blog/planning-inversify-8-0-0/>Planning InversifyJS 8 - Feedback Needed!</a><li class=sidebarItem_JuX4><a class=sidebarItemLink_uK7o href=/blog/announcing-inversify-7-6-1/>Announcing 7.6.1</a><li class=sidebarItem_JuX4><a class=sidebarItemLink_uK7o href=/blog/announcing-inversify-7-0-0-alpha-5-prerelease/>Announcing 7.0.0-alpha.5</a><li class=sidebarItem_JuX4><a class=sidebarItemLink_uK7o href=/blog/announcing-inversify-7-0-0-alpha-4-prerelease/>Announcing 7.0.0-alpha.4</a><li class=sidebarItem_JuX4><a aria-current=page class="sidebarItemLink_uK7o sidebarItemLinkActive_Pj4u" href=/blog/announcing-inversify-7-0-0-alpha-2-prerelease/>Announcing 7.0.0-alpha.2</a></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class=title_QO1d>Announcing 7.0.0-alpha.2</h1><div class="container_p6aV margin-vert--md"><time datetime=2025-01-26T00:00:00.000Z>January 26, 2025</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_imO4"><div class="avatar margin-bottom--sm"><a class=avatar__photo-link href=/blog/authors/notaphplover/><img class="avatar__photo authorImage_cDB5" src=https://github.com/notaphplover.png alt="Roberto Pintos López"/></a><div class="avatar__intro authorDetails_zOxm"><div class=avatar__name><a href=/blog/authors/notaphplover/><span class=authorName_gQUg translate=no>Roberto Pintos López</span></a></div><small class=authorTitle_KZ_g title="InversifyJS maintainer">InversifyJS maintainer</small><div class=authorSocials_AVCM><a href=https://github.com/notaphplover target=_blank rel="noopener noreferrer" class=authorSocialLink_O20A title=GitHub><svg xmlns=http://www.w3.org/2000/svg width=1em height=1em viewBox="0 0 256 250" preserveAspectRatio=xMidYMid style=--dark:#000;--light:#fff class="authorSocialIcon_oAPg githubSvg_M2mU"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"/></svg></a></div></div></div></div></div></header><div id=__blog-post-container class=markdown><p>In this version, we are announcing significant performance improvements! Let's see how caches can assist us in accomplishing such a feat!</p>
<h2 class="anchor anchorTargetStickyNavbar_aWkY" id=context>Context<a href=#context class=hash-link aria-label="Direct link to Context" title="Direct link to Context" translate=no>​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_aWkY" id=the-current-container-design>The current container design<a href=#the-current-container-design class=hash-link aria-label="Direct link to The current container design" title="Direct link to The current container design" translate=no>​</a></h3>
<p>Like previous versions of Inversify, when a service resolution is requested by calling <code>container.get</code>, a planner schedules the bindings to be used in a tree structure, which is then used to build the instances that compose the requested service.</p>
<h3 class="anchor anchorTargetStickyNavbar_aWkY" id=adding-a-caching-strategy>Adding a caching strategy<a href=#adding-a-caching-strategy class=hash-link aria-label="Direct link to Adding a caching strategy" title="Direct link to Adding a caching strategy" translate=no>​</a></h3>
<p>Previous versions of Inversify don't cache plans. It might sound surprising, but it's the way it is. Previous versions of Inversify expose too many internal APIs, making it impossible for plans to be deterministic. For example, previous versions of Inversify give <code>container</code> access via context to binding constraints, allowing the possibility to cause side effects in the planning phase!</p>
<p>With some reasonable restrictions, <code>inversify@7</code> keeps the same degree of flexibility with deterministic internal plans. But, wait, if plans are deterministic, they can be cached!</p>
<h4 class="anchor anchorTargetStickyNavbar_aWkY" id=why-cache-plans>Why cache plans?<a href=#why-cache-plans class=hash-link aria-label="Direct link to Why cache plans?" title="Direct link to Why cache plans?" translate=no>​</a></h4>
<p>You don't need to compute a cached plan again, and the garbage collector doesn't need to clear memory of a non-computed cached plan, which is an operation heavier than you might expect when optimizing these micro tasks.</p>
<h2 class="anchor anchorTargetStickyNavbar_aWkY" id=results>Results<a href=#results class=hash-link aria-label="Direct link to Results" title="Direct link to Results" translate=no>​</a></h2>
<p>After running some benchmarks, Inversify 7 is faster than Inversify 6 when working with singleton scope services and way faster when working with transient scoped services.</p>
<p>We will use a faster container for reference. Tsyringe is the perfect candidate: their simplicity allows resolving services without any planning phase, and therefore it's going to be way faster than Inversify.</p>
<p>Benchmark implementation can be observed at the <code>@inversifyjs/container-benchmarks</code> package. Feel free to run them or have a look at any of the latest monorepo PRs which include benchmark results.</p>
<p>As of today, the latest benchmark results are as follows:</p>
<div class="language-bash codeBlockContainer_klck theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_utSy><pre tabindex=0 class="prism-code language-bash codeBlock_UcFI thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_IDrY><span class=token-line style=color:#393A34><span class="token plain">[CJS] Running benchmarks...</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Get service in singleton scope</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">┌─────────┬────────────────────┬──────────────────────┬─────────────────────┬────────────────────────────┬───────────────────────────┬─────────┐</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ (index) │ Task name          │ Latency average (ns) │ Latency median (ns) │ Throughput average (ops/s) │ Throughput median (ops/s) │ Samples │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├─────────┼────────────────────┼──────────────────────┼─────────────────────┼────────────────────────────┼───────────────────────────┼─────────┤</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 0       │ 'inversifyCurrent' │ '582.96 ± 0.80%'     │ '561.00'            │ '1758258 ± 0.01%'          │ '1782531'                 │ 1715395 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 1       │ 'inversify6'       │ '1136.19 ± 0.35%'    │ '982.00'            │ '961212 ± 0.03%'           │ '1018330'                 │ 880137  │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 2       │ 'tsyringe'         │ '329.02 ± 1.10%'     │ '291.00'            │ '3271688 ± 0.01%'          │ '3436426'                 │ 3039353 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">└─────────┴────────────────────┴──────────────────────┴─────────────────────┴────────────────────────────┴───────────────────────────┴─────────┘</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Get service in transient scope</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">┌─────────┬────────────────────┬──────────────────────┬─────────────────────┬────────────────────────────┬───────────────────────────┬─────────┐</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ (index) │ Task name          │ Latency average (ns) │ Latency median (ns) │ Throughput average (ops/s) │ Throughput median (ops/s) │ Samples │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├─────────┼────────────────────┼──────────────────────┼─────────────────────┼────────────────────────────┼───────────────────────────┼─────────┤</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 0       │ 'inversifyCurrent' │ '1023.52 ± 0.29%'    │ '992.00'            │ '1003603 ± 0.01%'          │ '1008065'                 │ 977022  │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 1       │ 'inversify6'       │ '5181.39 ± 0.41%'    │ '4960.00'           │ '198404 ± 0.03%'           │ '201613'                  │ 192999  │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 2       │ 'tsyringe'         │ '466.06 ± 0.85%'     │ '441.00'            │ '2261272 ± 0.01%'          │ '2267574'                 │ 2145645 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">└─────────┴────────────────────┴──────────────────────┴─────────────────────┴────────────────────────────┴───────────────────────────┴─────────┘</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Get complex service in singleton scope</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">┌─────────┬────────────────────┬──────────────────────┬─────────────────────┬────────────────────────────┬───────────────────────────┬─────────┐</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ (index) │ Task name          │ Latency average (ns) │ Latency median (ns) │ Throughput average (ops/s) │ Throughput median (ops/s) │ Samples │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├─────────┼────────────────────┼──────────────────────┼─────────────────────┼────────────────────────────┼───────────────────────────┼─────────┤</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 0       │ 'inversifyCurrent' │ '614.26 ± 1.74%'     │ '591.00'            │ '1673265 ± 0.01%'          │ '1692047'                 │ 1627989 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 1       │ 'inversify6'       │ '1061.52 ± 0.48%'    │ '1001.00'           │ '989393 ± 0.01%'           │ '999001'                  │ 942048  │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 2       │ 'tsyringe'         │ '335.53 ± 0.58%'     │ '311.00'            │ '3171618 ± 0.01%'          │ '3215434'                 │ 2980330 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">└─────────┴────────────────────┴──────────────────────┴─────────────────────┴────────────────────────────┴───────────────────────────┴─────────┘</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Get complex service in transient scope</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">┌─────────┬────────────────────┬──────────────────────┬────────────────────────┬────────────────────────────┬───────────────────────────┬─────────┐</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ (index) │ Task name          │ Latency average (ns) │ Latency median (ns)    │ Throughput average (ops/s) │ Throughput median (ops/s) │ Samples │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├─────────┼────────────────────┼──────────────────────┼────────────────────────┼────────────────────────────┼───────────────────────────┼─────────┤</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 0       │ 'inversifyCurrent' │ '349104.25 ± 0.51%'  │ '340334.00'            │ '2893 ± 0.28%'             │ '2938'                    │ 2865    │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 1       │ 'inversify6'       │ '5023278.98 ± 1.16%' │ '4783030.50 ± 4958.50' │ '200 ± 1.00%'              │ '209'                     │ 200     │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 2       │ 'tsyringe'         │ '249415.89 ± 0.59%'  │ '237333.00'            │ '4088 ± 0.32%'             │ '4213'                    │ 4011    │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">└─────────┴────────────────────┴──────────────────────┴────────────────────────┴────────────────────────────┴───────────────────────────┴─────────┘</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_klck theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_utSy><pre tabindex=0 class="prism-code language-bash codeBlock_UcFI thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_IDrY><span class=token-line style=color:#393A34><span class="token plain">[ESM] Running benchmarks...</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Get service in singleton scope</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">┌─────────┬────────────────────┬──────────────────────┬─────────────────────┬────────────────────────────┬───────────────────────────┬─────────┐</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ (index) │ Task name          │ Latency average (ns) │ Latency median (ns) │ Throughput average (ops/s) │ Throughput median (ops/s) │ Samples │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├─────────┼────────────────────┼──────────────────────┼─────────────────────┼────────────────────────────┼───────────────────────────┼─────────┤</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 0       │ 'inversifyCurrent' │ '578.15 ± 0.88%'     │ '541.00'            │ '1809935 ± 0.01%'          │ '1848429'                 │ 1729642 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 1       │ 'inversify6'       │ '904.50 ± 0.33%'     │ '851.00'            │ '1159099 ± 0.01%'          │ '1175088'                 │ 1105586 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 2       │ 'tsyringe'         │ '287.15 ± 1.12%'     │ '261.00'            │ '3722553 ± 0.01%'          │ '3831418'                 │ 3482456 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">└─────────┴────────────────────┴──────────────────────┴─────────────────────┴────────────────────────────┴───────────────────────────┴─────────┘</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Get service in transient scope</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">┌─────────┬────────────────────┬──────────────────────┬─────────────────────┬────────────────────────────┬───────────────────────────┬─────────┐</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ (index) │ Task name          │ Latency average (ns) │ Latency median (ns) │ Throughput average (ops/s) │ Throughput median (ops/s) │ Samples │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├─────────┼────────────────────┼──────────────────────┼─────────────────────┼────────────────────────────┼───────────────────────────┼─────────┤</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 0       │ 'inversifyCurrent' │ '837.39 ± 0.28%'     │ '802.00'            │ '1232351 ± 0.01%'          │ '1246883'                 │ 1194187 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 1       │ 'inversify6'       │ '4868.25 ± 0.32%'    │ '4679.00'           │ '211104 ± 0.03%'           │ '213721'                  │ 205413  │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 2       │ 'tsyringe'         │ '494.17 ± 0.40%'     │ '461.00'            │ '2118431 ± 0.01%'          │ '2169197'                 │ 2023611 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">└─────────┴────────────────────┴──────────────────────┴─────────────────────┴────────────────────────────┴───────────────────────────┴─────────┘</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Get complex service in singleton scope</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">┌─────────┬────────────────────┬──────────────────────┬─────────────────────┬────────────────────────────┬───────────────────────────┬─────────┐</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ (index) │ Task name          │ Latency average (ns) │ Latency median (ns) │ Throughput average (ops/s) │ Throughput median (ops/s) │ Samples │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├─────────┼────────────────────┼──────────────────────┼─────────────────────┼────────────────────────────┼───────────────────────────┼─────────┤</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 0       │ 'inversifyCurrent' │ '606.92 ± 1.72%'     │ '571.00'            │ '1739723 ± 0.01%'          │ '1751313'                 │ 1647652 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 1       │ 'inversify6'       │ '924.23 ± 2.51%'     │ '852.00'            │ '1153936 ± 0.01%'          │ '1173709'                 │ 1081983 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 2       │ 'tsyringe'         │ '307.19 ± 0.48%'     │ '290.00'            │ '3432297 ± 0.01%'          │ '3448276'                 │ 3255286 │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">└─────────┴────────────────────┴──────────────────────┴─────────────────────┴────────────────────────────┴───────────────────────────┴─────────┘</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Get complex service in transient scope</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">┌─────────┬────────────────────┬──────────────────────┬─────────────────────────┬────────────────────────────┬───────────────────────────┬─────────┐</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ (index) │ Task name          │ Latency average (ns) │ Latency median (ns)     │ Throughput average (ops/s) │ Throughput median (ops/s) │ Samples │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├─────────┼────────────────────┼──────────────────────┼─────────────────────────┼────────────────────────────┼───────────────────────────┼─────────┤</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 0       │ 'inversifyCurrent' │ '249696.67 ± 0.47%'  │ '241791.00'             │ '4047 ± 0.24%'             │ '4136'                    │ 4005    │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 1       │ 'inversify6'       │ '4596691.40 ± 1.18%' │ '4710800.50 ± 16420.50' │ '219 ± 0.99%'              │ '212 ± 1'                 │ 218     │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│ 2       │ 'tsyringe'         │ '235461.28 ± 0.43%'  │ '227424.00'             │ '4296 ± 0.25%'             │ '4397'                    │ 4247    │</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">└─────────┴────────────────────┴──────────────────────┴─────────────────────────┴────────────────────────────┴───────────────────────────┴─────────┘</span><br/></span></code></pre></div></div>
<p>As you can see, <code>inversify@7</code> performs way better than <code>inversify@6</code> in every scenario, especially when working with transient scopes. It's slower than <code>tsyringe</code>, but now I honestly believe Inversify is fast enough while providing a more flexible API.</p>
<h2 class="anchor anchorTargetStickyNavbar_aWkY" id=whats-next>What's next<a href=#whats-next class=hash-link aria-label="Direct link to What's next" title="Direct link to What's next" translate=no>​</a></h2>
<p>Further performance optimizations can be accomplished. It's out of the scope of <code>inversify@7</code>, but let me say that we will make Inversify faster than <code>tsyringe</code> while providing the same flexible API. If you want to be part of it, don't hesitate to open a discussion in the <a href=https://github.com/inversify/monorepo/ target=_blank rel="noopener noreferrer" class="">monorepo</a> and join us in this adventure!</div><footer class=docusaurus-mt-lg><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class=col><b>Tags:</b><ul class="tags_ln1f padding--none margin-left--sm"><li class=tag_OI0f><a rel=tag title="InversifyJS releases related posts" class="tag_whYw tagRegular_H711" href=/blog/tags/releases/>Releases</a></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/blog/announcing-inversify-7-0-0-alpha-4-prerelease/><div class=pagination-nav__sublabel>Newer post</div><div class=pagination-nav__label>Announcing 7.0.0-alpha.4</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/blog/announcing-inversify-7-0-0-alpha-0-prerelease/><div class=pagination-nav__sublabel>Older post</div><div class=pagination-nav__label>Announcing 7.0.0-alpha.0</div></a></nav></main><div class="col col--2"><div class="tableOfContents_GU3X thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#context class="table-of-contents__link toc-highlight">Context</a><ul><li><a href=#the-current-container-design class="table-of-contents__link toc-highlight">The current container design</a><li><a href=#adding-a-caching-strategy class="table-of-contents__link toc-highlight">Adding a caching strategy</a></ul><li><a href=#results class="table-of-contents__link toc-highlight">Results</a><li><a href=#whats-next class="table-of-contents__link toc-highlight">What's next</a></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs/introduction/getting-started/>Tutorial</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://discord.gg/jXcMagAPnm target=_blank rel="noopener noreferrer" class=footer__link-item>Discord<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_HKH7><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/blog/>Blog</a><li class=footer__item><a href=https://github.com/inversify/monorepo target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_HKH7><use href=#theme-svg-external-link /></svg></a></ul></div></div></div></footer></div></body>